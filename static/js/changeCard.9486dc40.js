(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["changeCard"],{"2c92":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.isWechat?t._e():e("div",{staticClass:"header"},[e("div",{staticClass:"header_body"},[e("span",{staticClass:"goBack",on:{click:t.goBack}},[e("van-icon",{attrs:{name:"arrow-left"}})],1),e("div",{staticClass:"flex-vertical-centering"},[e("p",{staticClass:"textEllipsis",on:{click:t.showLog}},[t._v("\n        "+t._s(t.headerName)+"\n      ")])]),t.shareShow?e("span",{staticClass:"shareSheet",on:{click:t.shareSheet}},[t._v("分享")]):t._e()])])},s=[],r={name:"TopMsg",props:{headerName:{type:String,default:""},required:{type:Boolean,default:!0},shareShow:{type:Boolean,default:!1}},data:function(){return{clickNum:0}},computed:{isWechat:function(){return this.$store.state.isWechat}},watch:{$route:function(){this.clickNum=0}},created:function(){},methods:{goBack:function(){var t=this;t.$router.go(-1)},shareSheet:function(){this.$emit("shareSheet")},showLog:function(){if(this.clickNum++,5===this.clickNum){this.clickNum=0;var t=document.getElementsByClassName("vc-switch")[0],a=window.getComputedStyle(t,null).getPropertyValue("display");"block"===a?VCONSOLE.hide():VCONSOLE.show()}}}},n=r,c=(e("9243"),e("2877")),o=Object(c["a"])(n,i,s,!1,null,"2cd8e979",null);a["a"]=o.exports},"39d5":function(t,a,e){"use strict";var i=e("8b94"),s=e.n(i);s.a},"500b":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("top-msg",{attrs:{"header-name":"更换银行卡"}}),e("div",{staticClass:"con_body"},[e("div",{staticClass:"cards_list"},[e("div",{staticClass:"cards_head"},["cashCard"==t.type?e("span",{staticClass:"size28 color999"},[t._v("共 "+t._s(t.cardMsg.length)+" 张储蓄卡")]):e("span",{staticClass:"size28 color999"},[t._v("共 "+t._s(t.cardMsg.length)+" 张信用卡")])]),e("div",{staticClass:"list_items"},[t._l(t.cardMsg,(function(a,i){return e("div",{key:i,class:"cashCard"==t.type?"list_item2 flex flex_alCen":"list_item flex flex_alCen",on:{click:function(e){return t.selectThisCard(a.id)}}},[t.currentCard===a.id?e("i",{staticClass:"icon_select"}):t._e(),e("div",{staticClass:"card_logo w25"},[a.bank_info.bank_logo_image?e("img",{attrs:{src:a.bank_info.bank_logo_image.url}}):t._e()]),e("div",{staticClass:"flex1 lineheight70"},[e("h5",{staticClass:"colorfff size30"},[t._v("\n              "+t._s(a.bank_info.name)+"\n            ")]),e("p",{staticClass:"colorfff size36 textEllipsis"},[t._v("\n              "+t._s("**** **** *** "+a.card_info.card_no.substr(a.card_info.card_no.length-4))+"\n            ")]),e("div",{staticClass:"z_check"},[e("p",[t._v("账单日："+t._s(a.card_info.bill_date)+"号")]),e("p",[t._v("还款日："+t._s(a.card_info.repayment_date)+"号")])])])])})),"cashCard"==t.type?e("div",{staticClass:"card_add"},[e("router-link",{staticClass:"btn2 flex-vertical-centering",attrs:{to:{path:"/addCard",query:{status:"add"}}}},[e("div",{staticClass:"flex-row-center"},[e("i",{staticClass:"iconfont icon-tianjiajihua"}),e("span",[t._v("添加储蓄卡")])])])],1):e("div",{staticClass:"card_add"},[e("router-link",{staticClass:"btn2 flex-vertical-centering",attrs:{to:{path:"/addCreditCard",query:{status:"add"}}}},[e("div",{staticClass:"flex-row-center"},[e("i",{staticClass:"iconfont icon-tianjiajihua"}),e("span",[t._v("添加信用卡")])])])],1)],2)])])],1)},s=[],r=e("2c92");function n(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function c(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?n(e,!0).forEach((function(a){o(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):n(e).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function o(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var d={name:"ChangeCard",components:{topMsg:r["a"]},data:function(){return{currentCard:this.$util.getQueryVariable("id")?this.$util.getQueryVariable("id"):"",type:this.$util.getQueryVariable("type"),cardMsg:""}},computed:{cardType:function(){return"cashCard"===this.type?"DEBIT":"CREDIT"}},created:function(){this.thisTitle(),this.getCardListFun()},methods:{thisTitle:function(){document.title="更换银行卡"},gotoEditCreditCard:function(){this.$router.push({path:"/addCreditCard",query:{status:"edit"}})},gotoEditCard:function(){this.$router.push({path:"/addCard",query:{status:"edit"}})},gotoAddCard:function(){0===this.currentNav?this.$router.push({path:"/addCard",query:{status:"add"}}):1===this.currentNav&&this.$router.push({path:"/addCreditCard",query:{status:"add"}})},getCardListFun:function(){var t=this,a="cashCard"===t.type?"DEBIT":"CREDIT";t.$api.card.getCardList(a).then((function(a){console.log(a),t.cardMsg=a.data.data})).catch((function(t){console.log(t)}))},selectThisCard:function(t){var a=this;this.currentCard=t;var e=this.$toast.loading({duration:0,forbidClick:!0,loadingType:"spinner",message:"请稍候..."});this.$api.card.getCard(this.cardType,t).then((function(t){var e={id:t.data.data.id,card_info:c({},t.data.data),bank_info:t.data.data.bank_info};"cashCard"===a.type?a.$store.commit("SET_CURRENT_DEBIT_CARD",e):"creditCard"===a.type&&a.$store.commit("SET_CURRENT_CREDIT_CARD",e),a.$router.go(-1)})).then((function(){e.clear()}),(function(){e.clear()}))}}},l=d,u=(e("39d5"),e("2877")),h=Object(u["a"])(l,i,s,!1,null,"6b25df89",null);a["default"]=h.exports},"8b94":function(t,a,e){},"8c64":function(t,a,e){},9243:function(t,a,e){"use strict";var i=e("8c64"),s=e.n(i);s.a}}]);