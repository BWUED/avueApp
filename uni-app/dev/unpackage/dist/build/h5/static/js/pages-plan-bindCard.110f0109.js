(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-plan-bindCard"],{"00bc":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i="https://app.baiwang168.com.cn/api",o="https://upgrade.baiwang168.cn/upgrade",n={ZuceUrl:i,baiwangapi:o};e.default=n},"0bde":function(t,e,a){"use strict";a.r(e);var i=a("b835"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},"1bf0":function(t,e,a){var i=a("cbaf");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("5104c58c",i,!0,{sourceMap:!1,shadowMode:!1})},"382d":function(t,e,a){"use strict";(function(t){var i=a("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(a("00bc")),n=o.default.ZuceUrl,r=function(e){e.url=n+e.url;try{var a=uni.getStorageSync("token");if(!a)return void uni.navigateTo({url:"../pages/login/login"});e.header={Authorization:"Bearer "+a}}catch(i){t.log(i)}return uni.request(e)},l=r;e.default=l}).call(this,a("5a52")["default"])},"7b6d":function(t,e,a){"use strict";var i={uniIcons:a("f4e2").default},o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"add-page2"},[a("v-uni-view",{staticClass:"tooMsp"},[a("uni-icons",{staticClass:"uni-icons",attrs:{type:"arrowleft",size:"25",color:"#502E2E"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goBack.apply(void 0,arguments)}}}),a("v-uni-text",[t._v("银行卡验证")])],1),a("v-uni-view",{staticClass:"con_body"},[a("v-uni-view",{staticClass:"form_cells"},[a("v-uni-view",{staticClass:"form_cell"},[a("v-uni-text",{staticClass:"form_label"},[t._v("银行卡号")]),a("v-uni-text",{staticClass:"form_cellBd"},[t._v(t._s(t.creditCardId))])],1),a("v-uni-view",{staticClass:"form_cell"},[a("v-uni-text",{staticClass:"form_label"},[t._v("所属银行")]),a("v-uni-text",{staticClass:"form_cellBd"},[t._v(t._s(t.cardName))])],1),a("v-uni-view",{staticClass:"form_cell"},[a("v-uni-text",{staticClass:"form_label"},[t._v("CVN2")]),a("v-uni-text",{staticClass:"form_cellBd"},[t._v(t._s(t.CVN2))])],1),a("v-uni-view",{staticClass:"form_cell"},[a("v-uni-text",{staticClass:"form_label"},[t._v("有效期")]),a("v-uni-text",{staticClass:"form_cellBd"},[t._v(t._s(t.validityMonth)+" 月 / "+t._s(t.validityYear)+" 年")])],1),a("v-uni-view",{staticClass:"form_cell"},[a("v-uni-text",{staticClass:"form_label"},[t._v("预留手机号")]),a("v-uni-text",{staticClass:"form_cellBd"},[t._v(t._s(t.tel))])],1),a("v-uni-view",{staticClass:"form_cell form_flex"},[a("v-uni-text",{staticClass:"form_label"},[t._v("验证码")]),a("v-uni-text",{staticClass:"form_cellBd"},[a("v-uni-input",{attrs:{type:"number",placeholder:"请输入验证码",maxlength:"6"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),a("v-uni-view",{staticClass:"form_cellFt"},[t.isGetCode?a("v-uni-button",{staticClass:"btn_stay"},[t._v(t._s(t.num)+"s 后重发")]):a("v-uni-button",{staticClass:"btn_getCode",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCodeFun.apply(void 0,arguments)}}},[t._v("获取验证码")])],1)],1)],1),a("v-uni-view",{staticClass:"form_tip"},[t._v("验证码将发到预留手机号中")]),a("v-uni-view",{staticClass:"btn_warp",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirmBindCard.apply(void 0,arguments)}}},[t._v("保 存")])],1)],1)},n=[];a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}))},"9f3a":function(t,e,a){"use strict";var i=a("1bf0"),o=a.n(i);o.a},b835:function(t,e,a){"use strict";(function(t){var i=a("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(a("382d")),n=i(a("f4e2")),r={components:{uniIcons:n.default},props:["hideBindCard","cId","cCode"],data:function(){return{cardID:"",channelCode:"",creditCardId:"",cardName:"",CVN2:"",validity:"",tel:"",validityMonth:"",validityYear:"",code:"",isGetCode:!1,num:60,timer:"",bizOrderNumber:""}},created:function(){this.cardID=this.cId,this.channelCode=this.cCode,t.log(this.cId),t.log(this.channelCode),this.getCreditCardMsg()},methods:{getCreditCardMsg:function(){var e=this;(0,o.default)({url:"/trade/cards/CREDIT/"+this.cardID,method:"GET",data:{},success:function(a){e.creditCardId=a.data.data.card_no,e.cardName=a.data.data.bank_info.name,e.CVN2=a.data.data.lass_three_cvn2,e.tel=a.data.data.card_phone_number,e.validityMonth=a.data.data.valid_date.substr(0,2),e.validityYear="20"+a.data.data.valid_date.substr(2),t.log(a.data.data)}})},goBack:function(){uni.navigateBack(1)},getCodeFun:function(){var t=this,e=this;e.isGetCode||(e.isGetCode=!0,e.timer=setInterval((function(){0!==e.num?e.num--:(e.isGetCode=!1,e.num=60,clearInterval(e.timer))}),1e3)),(0,o.default)({url:"/trade/cards/binding/CREDIT/"+this.cardID+"/"+this.channelCode,method:"Post",data:{},success:function(a){var i=a.data.data.state,o=a.data.data.errorMsg;t.bizOrderNumber=a.data.data.bizOrderNumber,"000"!=i&&("系统异常"===o?(uni.showToast({title:"银行卡信息不匹配",icon:"none",duration:2e3}),e.isGetCode=!1,e.num=60,clearInterval(e.timer)):(uni.showToast({title:o,icon:"none",duration:2e3}),e.isGetCode=!1,clearInterval(e.timer)))},error:function(){e.isGetCode=!1,e.num=60,clearInterval(e.timer)}})},confirmBindCard:function(){var t=this;t.code?(uni.showLoading({title:"请稍等...",mask:!0}),setTimeout((function(){uni.hideLoading()}),3e3),(0,o.default)({url:"/trade/cards/binding/CREDIT/"+t.cardID+"/"+t.channelCode+"/"+t.bizOrderNumber+"/confirm",method:"post",data:JSON.stringify({captcha_code:t.code}),success:function(e){var a=e.data.data.state,i=e.data.data.errorMsg;"000"!=a?uni.showToast({title:i,icon:"none",duration:2e3}):(uni.showToast({title:i,icon:"none"}),t.hideBindCard())}})):uni.showToast({title:"请输入收到的验证码",icon:"none",duration:3e3})}}};e.default=r}).call(this,a("5a52")["default"])},bae1:function(t,e,a){"use strict";a.r(e);var i=a("7b6d"),o=a("0bde");for(var n in o)"default"!==n&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("9f3a");var r,l=a("f0c5"),d=Object(l["a"])(o["default"],i["b"],i["c"],!1,null,"e7409b8a",null,!1,i["a"],r);e["default"]=d.exports},cbaf:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".tooMsp[data-v-e7409b8a]{width:100%;height:%?86?%;line-height:%?86?%;text-align:center;background:#fff;position:relative}.tooMsp .uni-icons[data-v-e7409b8a]{width:%?70?%;position:absolute;left:%?1?%}.tooMsp .text[data-v-e7409b8a]{color:#000;font-size:%?30?%}.con_body .form_cells[data-v-e7409b8a]{width:100%;background:#fff}.con_body .form_cells .form_cell[data-v-e7409b8a]{height:%?100?%;line-height:%?100?%;border-top:%?1?% solid #f5f5f5}.con_body .form_cells .form_cell .form_label[data-v-e7409b8a]{width:20%;display:inline-block;margin-left:%?35?%;color:#333;font-size:%?28?%}.con_body .form_cells .form_cell .form_cellBd[data-v-e7409b8a]{margin-left:%?30?%;color:#333;font-size:%?28?%;font-weight:700}.con_body .form_cells .form_flex[data-v-e7409b8a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.con_body .form_cells .form_flex .form_cellBd[data-v-e7409b8a]{display:inline-block;width:%?200?%}.con_body .form_cells .form_flex .form_cellBd uni-input[data-v-e7409b8a]{height:%?100?%;line-height:%?100?%;font-size:%?28?%}.con_body .form_cells .form_flex .form_cellFt[data-v-e7409b8a]{background:#fff;margin-top:%?15?%;margin-left:%?110?%}.con_body .form_cells .form_flex .form_cellFt .btn_getCode[data-v-e7409b8a]{background:#fff;color:#be9760;font-size:%?25?%;width:%?180?%;height:%?70?%;border:%?2?% solid #be9760}.con_body .form_cells .form_flex .form_cellFt .btn_stay[data-v-e7409b8a]{background:#fff;color:#be9760;font-size:%?25?%;width:%?180?%;height:%?70?%;border:%?2?% solid #be9760}.con_body .form_tip[data-v-e7409b8a]{color:#999;font-size:%?25?%;margin:%?25?% %?35?%}.con_body .btn_warp[data-v-e7409b8a]{width:90%;height:%?90?%;line-height:%?90?%;text-align:center;margin-left:5%;margin-top:%?60?%;color:#fff;background:#be9760}",""]),t.exports=e}}]);